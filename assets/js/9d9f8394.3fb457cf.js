"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[13],{269:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"Here\\\\\'s how you can test your installation of switchmap-ng.","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/troubleshooting.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Troubleshooting","sidebar_label":"Troubleshooting","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Testing","permalink":"/docs/testing"},"next":{"title":"Architecture","permalink":"/docs/architecture"}}');var s=n(4848),o=n(8453);const l={title:"Troubleshooting",sidebar_label:"Troubleshooting",sidebar_position:8},r="Troubleshooting",a={},h=[{value:"Testing Operation After Installation",id:"testing-operation-after-installation",level:2},{value:"Start the API Interactively",id:"start-the-api-interactively",level:3},{value:"Start the Poller Interactively",id:"start-the-poller-interactively",level:3},{value:"Testing Polling",id:"testing-polling",level:3},{value:"Test API Functionality",id:"test-api-functionality",level:3},{value:"Troubleshooting Using System Logs",id:"troubleshooting-using-system-logs",level:2},{value:"Troubleshooting the API",id:"troubleshooting-the-api",level:3},{value:"Troubleshooting the Poller",id:"troubleshooting-the-poller",level:3}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,s.jsxs)(t.p,{children:["Here's how you can test your installation of ",(0,s.jsx)(t.code,{children:"switchmap-ng"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"testing-operation-after-installation",children:"Testing Operation After Installation"}),"\n",(0,s.jsxs)(t.p,{children:["There are a number of steps to take to make sure you have installed\n",(0,s.jsx)(t.code,{children:"switchmap-ng"})," correctly. This section explains how to do basic testing\nbefore putting ",(0,s.jsx)(t.code,{children:"switchmap-ng"})," into production."]}),"\n",(0,s.jsx)(t.h3,{id:"start-the-api-interactively",children:"Start the API Interactively"}),"\n",(0,s.jsxs)(t.p,{children:["Start the ",(0,s.jsx)(t.code,{children:"switchmap-ng"})," API interactively."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"(venv) $ bin/switchmap_dashboard --start\n"})}),"\n",(0,s.jsx)(t.h3,{id:"start-the-poller-interactively",children:"Start the Poller Interactively"}),"\n",(0,s.jsx)(t.p,{children:"The poller will need to be running prior to testing."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"(venv) $ bin/switchmap_poller --start\n"})}),"\n",(0,s.jsx)(t.h3,{id:"testing-polling",children:"Testing Polling"}),"\n",(0,s.jsxs)(t.p,{children:["You can test your SNMP configuration and connectivity to your devices\nusing the ",(0,s.jsx)(t.code,{children:"switchmap_poller_test.py"})," utility like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"(venv) $ bin/tools/switchmap_poller_test.py --hostname HOSTNAME\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If you have setup switchmap-ng as a system daemon with a\n",(0,s.jsx)(t.code,{children:"daemon_directory:"})," value ",(0,s.jsx)(t.code,{children:"/var/run"})," you will need to specify the ",(0,s.jsx)(t.code,{children:"venv"}),"\npath to ",(0,s.jsx)(t.code,{children:"python3"})," first."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"(venv) $ sudo venv/bin/python3 bin/tools/switchmap_poller_test.py --hostname HOSTNAME\n"})}),"\n",(0,s.jsx)(t.p,{children:"If successful it will print the entire contents of the polled data on\nthe screen."}),"\n",(0,s.jsx)(t.h3,{id:"test-api-functionality",children:"Test API Functionality"}),"\n",(0,s.jsx)(t.p,{children:"Testing the API is easy. Just visit the following URL:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"http://hostname/switchmap",children:"http://hostname/switchmap"})}),"\n",(0,s.jsxs)(t.p,{children:["A sample system startup script can be found in the\n",(0,s.jsx)(t.code,{children:"examples/linux/systemd/switchmap_poller.service"})," file. Follow the\ninstructions in the file to make changes to the startup operation of the\n",(0,s.jsx)(t.code,{children:"poller"})," daemon."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," There will be no visible output when the ",(0,s.jsx)(t.code,{children:"poller"})," is running.\nThe ",(0,s.jsx)(t.code,{children:"poller"})," logs its status to the ",(0,s.jsx)(t.code,{children:"log/switchmap.log"})," file by default.\nYou will be able to see this interaction dynamically by running the\nfollowing command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ tail -f etc/switchmap.log\n"})}),"\n",(0,s.jsx)(t.h2,{id:"troubleshooting-using-system-logs",children:"Troubleshooting Using System Logs"}),"\n",(0,s.jsx)(t.p,{children:"There are different log files to check."}),"\n",(0,s.jsx)(t.h3,{id:"troubleshooting-the-api",children:"Troubleshooting the API"}),"\n",(0,s.jsxs)(t.p,{children:["There will be no visible output when the ",(0,s.jsx)(t.code,{children:"API"})," is running. The ",(0,s.jsx)(t.code,{children:"API"}),"\nlogs its status to the ",(0,s.jsx)(t.code,{children:"log/switchmap_dashboard.log"})," file by default.\nYou will be able to see this interaction dynamically by running the\nfollowing command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ tail -f etc/switchmap_dashboard.log\n"})}),"\n",(0,s.jsx)(t.h3,{id:"troubleshooting-the-poller",children:"Troubleshooting the Poller"}),"\n",(0,s.jsxs)(t.p,{children:["There will be no visible output when the ",(0,s.jsx)(t.code,{children:"Poller"})," is running. The\n",(0,s.jsx)(t.code,{children:"Poller"})," logs its status to the ",(0,s.jsx)(t.code,{children:"log/switchmap.log"})," file by default. You\nwill be able to see this interaction dynamically by running the\nfollowing command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"$ tail -f etc/switchmap.log\n"})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var i=n(6540);const s={},o=i.createContext(s);function l(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);